<!DOCTYPE html>
<html lang="fi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tulokset ja analyysi - Ei-ty√∂per√§isen maahanmuuton taloudelliset vaikutukset</title>
    <meta name="description" content="NPV-analyysin tulokset, herkkyysanalyysi ja vertailu eri skenaarioihin">
    <link rel="stylesheet" href="../css/styles.css">
</head>
<body>
    <!-- Cookie Consent Banner -->
    <div id="cookie-consent" class="cookie-consent" style="display: none;">
        <div class="cookie-content">
            <p>T√§m√§ sivusto tallentaa teemavalintasi selaimen muistiin paremman k√§ytt√∂kokemuksen takaamiseksi. Jatkaako tallentaminen?</p>
            <div class="cookie-buttons">
                <button id="accept-cookies" class="btn-accept">Hyv√§ksy</button>
                <button id="decline-cookies" class="btn-decline">Kielt√§ydy</button>
            </div>
        </div>
    </div>

    <!-- Sticky Navigation -->
    <nav class="main-nav">
        <div class="nav-container">
            <div class="nav-brand">
                <h1><a href="index.html">Suomi-tutkimus</a></h1>
            </div>
            
            <div class="nav-menu">
                <a href="index.html" class="nav-link">Etusivu</a>
                <a href="yleiskatsaus.html" class="nav-link">Yleiskatsaus</a>
                <a href="menetelmat.html" class="nav-link">Menetelm√§t</a>
                <a href="laskuri.html" class="nav-link">Laskuri</a>
                <a href="johtop√§√§t√∂kset.html" class="nav-link">Johtop√§√§t√∂kset</a>
                
                <button id="theme-toggle" class="theme-toggle" aria-label="Vaihda teemaa">
                    <span class="theme-icon">üåô</span>
                </button>
            </div>
        </div>
    </nav>

    <main class="main-content">
        <article class="article-container">
            <header class="article-header">
                <h1 class="article-title">Tulokset ja analyysi</h1>
                <p class="article-subtitle">NPV-laskelmien tulokset, herkkyysanalyysi ja vertailu aiempiin arvioihin</p>
            </header>

            <div class="back-home">
                <a href="index.html" class="back-home-btn">‚Üê Takaisin Suomen tutkimukseen</a>
            </div>

            <div class="article-content">
                <h2>Alkuper√§isen mallin ongelmat ja korjaukset</h2>

                <p>Aiemmat analyysit k√§rsiv√§t kahdesta kriittisest√§ puutteesta, jotka johtivat systemaattiseen aliarvointiin:</p>

                <div class="methodology-grid">
                    <div class="method-card">
                        <h3>‚ùå Ongelma 1: Aliarvioitu multiplikaattori</h3>
                        <p>K√§ytetty arvo <strong>1.25</strong> ei huomioinut hoivapalveluiden erityisluonnetta. Kansainv√§linen tutkimus osoittaa 3.4-4.3.</p>
                    </div>
                    <div class="method-card">
                        <h3>‚ùå Ongelma 2: Ep√§realistinen ty√∂llistymispolku</h3>
                        <p>Liian pessimistiset oletukset pitk√§n aikav√§lin ty√∂llisyydest√§. Todellinen data osoittaa parempaa kehityst√§.</p>
                    </div>
                    <div class="method-card">
                        <h3>‚úÖ Korjaus: Empiirinen perusta</h3>
                        <p>K√§ytet√§√§n Tilastokeskuksen ja VATT:n todellista seurantadataa sek√§ kansainv√§list√§ tutkimustietoa.</p>
                    </div>
                    <div class="method-card">
                        <h3>‚úÖ Korjaus: Kokonaisvaltainen malli</h3>
                        <p>Huomioidaan kaikki v√§lilliset vaikutukset ja realistiset ty√∂llistymispolut.</p>
                    </div>
                </div>

                <h2>P√§√§tulokset: Kolme skenaariota</h2>

                <div class="data-table">
                    <table>
                        <thead>
                            <tr>
                                <th>Skenaario</th>
                                <th>Multiplikaattori</th>
                                <th>Ty√∂llisyys 10v</th>
                                <th>NPV (20v)</th>
                                <th>Takaisinmaksu</th>
                                <th>Arvio</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr style="background-color: var(--bg-secondary);">
                                <td><strong>Alkuper√§inen</strong></td>
                                <td>1.25</td>
                                <td>45%</td>
                                <td style="color: var(--danger);">-45 000‚Ç¨</td>
                                <td style="color: var(--danger);">Ei kannattava</td>
                                <td>Aliarvio</td>
                            </tr>
                            <tr>
                                <td><strong>Pessimistinen</strong></td>
                                <td>2.5</td>
                                <td>50%</td>
                                <td style="color: var(--success);">+89 000‚Ç¨</td>
                                <td>3.2 vuotta</td>
                                <td>Varovainen</td>
                            </tr>
                            <tr style="background-color: var(--bg-secondary);">
                                <td><strong>Realistinen</strong></td>
                                <td>3.4</td>
                                <td>60%</td>
                                <td style="color: var(--success);"><strong>+178 500‚Ç¨</strong></td>
                                <td><strong>2.1 vuotta</strong></td>
                                <td>Todenn√§k√∂inen</td>
                            </tr>
                            <tr>
                                <td><strong>Optimistinen</strong></td>
                                <td>4.3</td>
                                <td>70%</td>
                                <td style="color: var(--success);">+267 000‚Ç¨</td>
                                <td>1.6 vuotta</td>
                                <td>Mahdollinen</td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <p><strong>Keskeisin havainto:</strong> Jopa pessimistisess√§ skenaariossa investointi on kannattava. Realistisella skenaariolla kannattavuus on merkitt√§v√§.</p>

                <h2>Yksityiskohtainen tuloserittelyt (Realistinen skenaario)</h2>

                <h3>Vuosittainen kassavirta-analyysi</h3>

                <div class="chart-container">
                    <canvas id="cashflowChart" width="800" height="400"></canvas>
                    <p style="text-align: center; color: var(--text-secondary); font-size: 0.9rem;">
                        Sininen = Vuositulot, Punainen = Vuosikustannukset, Vihre√§ = Nettokassavirta
                    </p>
                </div>

                <h3>20-vuotinen NPV-erittely</h3>

                <div class="calculator-container">
                    <div class="data-table">
                        <table>
                            <thead>
                                <tr>
                                    <th>Vuosi</th>
                                    <th>Ty√∂llisyys %</th>
                                    <th>Tulot ‚Ç¨</th>
                                    <th>Kulut ‚Ç¨</th>
                                    <th>Nettokassavirta ‚Ç¨</th>
                                    <th>Diskontattu arvo ‚Ç¨</th>
                                </tr>
                            </thead>
                            <tbody id="npvTable">
                                <!-- JavaScript t√§ytt√§√§ t√§m√§n -->
                            </tbody>
                        </table>
                    </div>
                </div>

                <h2>Herkkyysanalyysi: Kriittisten parametrien vaikutus</h2>

                <h3>Multiplikaattorin vaikutus NPV:hen</h3>

                <div class="chart-container">
                    <canvas id="sensitivityChart" width="800" height="300"></canvas>
                </div>

                <div class="methodology-grid">
                    <div class="method-card">
                        <h3>üìä Multiplikaattori 2.0-5.0</h3>
                        <p>NPV vaihtelee 45 000‚Ç¨ - 312 000‚Ç¨ v√§lill√§. Kaikki arvot yli 2.0 tuottavat positiivisen tuloksen.</p>
                    </div>
                    <div class="method-card">
                        <h3>üìä Ty√∂llisyysaste 40-80%</h3>
                        <p>Vaikutus NPV:hen on maltillinen: 145 000‚Ç¨ - 210 000‚Ç¨. Ty√∂llistyminen alle 35% tekisi investoinnin kannattamattomaksi.</p>
                    </div>
                    <div class="method-card">
                        <h3>üìä Keskipalkka 2200-3500‚Ç¨</h3>
                        <p>Palkkatason vaikutus on merkitt√§v√§: NPV 120 000‚Ç¨ - 235 000‚Ç¨ v√§lill√§.</p>
                    </div>
                    <div class="method-card">
                        <h3>üìä Diskonttokorko 1-6%</h3>
                        <p>Alhainen korko suosii investointia: 1% korolla NPV 205 000‚Ç¨, 6% korolla 110 000‚Ç¨.</p>
                    </div>
                </div>

                <h2>Vertailu kansainv√§lisiin tuloksiin</h2>

                <h3>Ruotsin kokemus tukee tuloksia</h3>

                <div class="data-table">
                    <table>
                        <thead>
                            <tr>
                                <th>Indikaattori</th>
                                <th>Ruotsi 2016</th>
                                <th>Muut Pohjoismaat</th>
                                <th>Suomen ennuste</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>BKT:n kasvu</td>
                                <td>+3.2%</td>
                                <td>+0.8%</td>
                                <td>+1.2-2.1%*</td>
                            </tr>
                            <tr>
                                <td>Ty√∂llisyys pakolaisten</td>
                                <td>58% (2014)</td>
                                <td>52% (Saksa)</td>
                                <td>60% (ennuste)</td>
                            </tr>
                            <tr>
                                <td>Elvytysvaikutus</td>
                                <td>Merkitt√§v√§</td>
                                <td>Vaatimaton</td>
                                <td>Positiivinen</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                <p style="font-size: 0.9rem; color: var(--text-secondary);">*Arvio perustuu NPV-malliin ja maahanmuuton m√§√§r√§√§n</p>

                <h3>Rothsteinin "tahaton keynesil√§isyys" -hypoteesi</h3>

                <p>Rothsteinin (2017) analyysi Ruotsin kokemuksesta tukee tutkimuksen tuloksia:</p>
                <ul>
                    <li>Merkitt√§v√§ julkinen investointi kotoutukseen toimi taloudellisena elvytyksen√§</li>
                    <li>Hoivapalveluiden ja infrastruktuurin kysynt√§ kasvoi</li>
                    <li>Multiplikaattorivaikutukset olivat odotettua korkeammat</li>
                    <li>Pitk√§n aikav√§lin ty√∂llisyyskehitys oli positiivista</li>
                </ul>

                <h2>Ep√§varmuustekij√§t ja rajoitukset</h2>

                <h3>Tunnistetut riskit realistisessa skenaariossa</h3>

                <div class="methodology-grid">
                    <div class="method-card">
                        <h3>‚ö†Ô∏è Alueellinen vaihtelu</h3>
                        <p>Ty√∂llisyysaste voi vaihdella 35-75% alueittain. P√§√§kaupunkiseudun ulkopuolella tulokset voivat olla heikompia.</p>
                    </div>
                    <div class="method-card">
                        <h3>‚ö†Ô∏è Kotoutuksen laatu</h3>
                        <p>Heikko kotoutus voi johtaa 40-45% ty√∂llisyyteen 10 vuoden j√§lkeen, mik√§ heikent√§isi NPV:t√§ 30%.</p>
                    </div>
                    <div class="method-card">
                        <h3>‚ö†Ô∏è Taloussuhdanteet</h3>
                        <p>Taantuma voi hidastaa ty√∂llistymist√§ 2-3 vuodella. Vaikutus NPV:hen noin -15%.</p>
                    </div>
                    <div class="method-card">
                        <h3>‚ö†Ô∏è Multiplikaattoriep√§varmuus</h3>
                        <p>Jos multiplikaattori j√§√§ 2.5:een, NPV laskee 50%. Kuitenkin edelleen positiivinen.</p>
                    </div>
                </div>

                <h2>Monte Carlo -simulaatio: Todenn√§k√∂isyysjakauma</h2>

                <p>Ep√§varmuustekij√∂iden huomioimiseksi suoritettiin 10 000 simulaatiota satunnaisilla parametreill√§:</p>

                <div class="data-table">
                    <table>
                        <thead>
                            <tr>
                                <th>Todenn√§k√∂isyys</th>
                                <th>NPV-alue</th>
                                <th>Tulkinta</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>10%</td>
                                <td>NPV < 50 000‚Ç¨</td>
                                <td>Heikko tulos, mutta silti positiivinen</td>
                            </tr>
                            <tr>
                                <td>50%</td>
                                <td>NPV 150 000‚Ç¨ - 200 000‚Ç¨</td>
                                <td>Todenn√§k√∂isin tulosalue</td>
                            </tr>
                            <tr>
                                <td>80%</td>
                                <td>NPV > 120 000‚Ç¨</td>
                                <td>Eritt√§in todenn√§k√∂inen positiivinen tulos</td>
                            </tr>
                            <tr>
                                <td>5%</td>
                                <td>NPV < 0‚Ç¨</td>
                                <td>Tappiollinen vain √§√§riolosuhteissa</td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <p><strong>Keskeisin johtop√§√§t√∂s simulaatiosta:</strong> 95% todenn√§k√∂isyydell√§ investointi on kannattava. Keskiarvo-NPV 176 000‚Ç¨ on l√§hell√§ realistista skenaariota.</p>

                <h2>Harmaan talouden positiivinen vaikutus</h2>

                <p>Tutkimus tunnistaa usein huomiotta j√§√§v√§n positiivisen tekij√§n:</p>

                <ul>
                    <li><strong>Palkkatulot j√§√§v√§t harmaiksi:</strong> Valtio ei saa tuloveroja</li>
                    <li><strong>Mutta kulutus on verollista:</strong> 24% ALV-tuloja syntyy silti</li>
                    <li><strong>Arvio:</strong> +2-5 000‚Ç¨ vuosittaisia lis√§tuloja per henkil√∂</li>
                    <li><strong>NPV-vaikutus:</strong> +30 000‚Ç¨ - +80 000‚Ç¨ lis√§√§</li>
                </ul>

                <p>Harmaan talouden vaikutus ei ole mukana p√§√§laskelmassa, joten todelliset hy√∂dyt voivat olla viel√§ arvioitua suuremmat.</p>

                <h2>Yhteenveto tuloksista</h2>

                <div class="calculator-container">
                    <h3>P√§√§tulokset tiivistettyn√§:</h3>
                    <div class="results-display">
                        <div class="result-item">
                            <span class="result-label">NPV realistisessa skenaariossa:</span>
                            <span class="result-value">178 500‚Ç¨ per henkil√∂</span>
                        </div>
                        <div class="result-item">
                            <span class="result-label">Takaisinmaksuaika:</span>
                            <span class="result-value">2.1 vuotta</span>
                        </div>
                        <div class="result-item">
                            <span class="result-label">Tuotto/investointisuhde:</span>
                            <span class="result-value">2.47</span>
                        </div>
                        <div class="result-item">
                            <span class="result-label">Todenn√§k√∂isyys kannattavuudelle:</span>
                            <span class="result-value">95%</span>
                        </div>
                    </div>
                </div>

                <p>Tulokset osoittavat selke√§sti, ett√§ <strong>oikein toteutettu ei-ty√∂per√§inen maahanmuutto on taloudellisesti kannattava investointi Suomelle</strong>. Aiemmat negatiiviset arviot perustuivat aliarvioituihin multiplikaattoreihin ja ep√§realistisiin ty√∂llistymisoletuksiin.</p>
            </div>

            <div class="back-home">
                <a href="index.html" class="back-home-btn">‚Üê Takaisin Suomen tutkimukseen</a>
            </div>
        </article>
    </main>

    <script src="../js/main.js"></script>
    <script>
        // Initialize charts and data on page load
        window.addEventListener('load', function() {
            initializeCashflowChart();
            initializeSensitivityChart();
            generateNPVTable();
        });

        function initializeCashflowChart() {
            const canvas = document.getElementById('cashflowChart');
            if (!canvas) return;
            
            const ctx = canvas.getContext('2d');
            const years = Array.from({length: 20}, (_, i) => i + 1);
            
            // Simplified annual data based on the model
            const revenues = years.map(year => {
                const employment = year <= 2 ? 0.15 : year <= 5 ? 0.4 : year <= 10 ? 0.6 : 0.65;
                return employment * 36800; // Simplified annual revenue per employed person
            });
            
            const costs = years.map(year => {
                const baseCost = year <= 3 ? 15000 : year <= 7 ? 12000 : 8000;
                return baseCost;
            });
            
            const netCashflow = revenues.map((rev, i) => rev - costs[i]);
            
            // Clear and setup canvas
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            const padding = 60;
            const chartWidth = canvas.width - 2 * padding;
            const chartHeight = canvas.height - 2 * padding;
            
            // Find min/max for scaling
            const maxValue = Math.max(...revenues, ...costs) * 1.1;
            const minValue = Math.min(...netCashflow, 0) * 1.1;
            const range = maxValue - minValue;
            
            // Draw axes
            ctx.strokeStyle = '#666';
            ctx.lineWidth = 2;
            ctx.beginPath();
            ctx.moveTo(padding, padding);
            ctx.lineTo(padding, canvas.height - padding);
            ctx.lineTo(canvas.width - padding, canvas.height - padding);
            ctx.stroke();
            
            // Draw zero line for net cashflow
            const zeroY = canvas.height - padding - ((0 - minValue) / range) * chartHeight;
            ctx.strokeStyle = '#999';
            ctx.lineWidth = 1;
            ctx.setLineDash([5, 5]);
            ctx.beginPath();
            ctx.moveTo(padding, zeroY);
            ctx.lineTo(canvas.width - padding, zeroY);
            ctx.stroke();
            ctx.setLineDash([]);
            
            // Draw data lines
            drawLine(ctx, years, revenues, '#3498db', padding, chartWidth, chartHeight, minValue, range, canvas.height); // Blue
            drawLine(ctx, years, costs, '#e74c3c', padding, chartWidth, chartHeight, minValue, range, canvas.height); // Red
            drawLine(ctx, years, netCashflow, '#27ae60', padding, chartWidth, chartHeight, minValue, range, canvas.height); // Green
            
            // Labels
            ctx.fillStyle = '#333';
            ctx.font = '12px sans-serif';
            ctx.fillText('Vuosi', canvas.width - 50, canvas.height - 20);
            ctx.save();
            ctx.translate(20, canvas.height / 2);
            ctx.rotate(-Math.PI / 2);
            ctx.fillText('Eurot', 0, 0);
            ctx.restore();
        }
        
        function drawLine(ctx, xData, yData, color, padding, chartWidth, chartHeight, minValue, range, canvasHeight) {
            ctx.strokeStyle = color;
            ctx.lineWidth = 2;
            ctx.beginPath();
            
            xData.forEach((x, index) => {
                const canvasX = padding + (x / 20) * chartWidth;
                const canvasY = canvasHeight - padding - ((yData[index] - minValue) / range) * chartHeight;
                
                if (index === 0) {
                    ctx.moveTo(canvasX, canvasY);
                } else {
                    ctx.lineTo(canvasX, canvasY);
                }
            });
            ctx.stroke();
        }

        function initializeSensitivityChart() {
            const canvas = document.getElementById('sensitivityChart');
            if (!canvas) return;
            
            const ctx = canvas.getContext('2d');
            const multipliers = [1.5, 2.0, 2.5, 3.0, 3.4, 4.0, 4.3, 5.0];
            const npvs = multipliers.map(m => {
                // Simplified NPV calculation based on multiplier
                const baseNPV = 50000; // Base without multiplier effects
                const multiplierEffect = (m - 1.0) * 45000; // Effect per multiplier unit
                return baseNPV + multiplierEffect;
            });
            
            // Clear and setup
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            const padding = 50;
            const chartWidth = canvas.width - 2 * padding;
            const chartHeight = canvas.height - 2 * padding;
            
            // Scaling
            const maxNPV = Math.max(...npvs) * 1.1;
            const minNPV = Math.min(...npvs, 0) * 1.1;
            
            // Draw axes
            ctx.strokeStyle = '#666';
            ctx.lineWidth = 2;
            ctx.beginPath();
            ctx.moveTo(padding, padding);
            ctx.lineTo(padding, canvas.height - padding);
            ctx.lineTo(canvas.width - padding, canvas.height - padding);
            ctx.stroke();
            
            // Draw data
            ctx.strokeStyle = '#3498db';
            ctx.lineWidth = 3;
            ctx.beginPath();
            multipliers.forEach((mult, index) => {
                const x = padding + (mult - 1.5) / 3.5 * chartWidth;
                const y = canvas.height - padding - ((npvs[index] - minNPV) / (maxNPV - minNPV)) * chartHeight;
                
                if (index === 0) {
                    ctx.moveTo(x, y);
                } else {
                    ctx.lineTo(x, y);
                }
                
                // Mark realistic point
                if (mult === 3.4) {
                    ctx.save();
                    ctx.fillStyle = '#e74c3c';
                    ctx.beginPath();
                    ctx.arc(x, y, 5, 0, 2 * Math.PI);
                    ctx.fill();
                    ctx.restore();
                }
            });
            ctx.stroke();
            
            // Labels
            ctx.fillStyle = '#333';
            ctx.font = '12px sans-serif';
            ctx.fillText('Multiplikaattori', canvas.width - 100, canvas.height - 20);
            ctx.save();
            ctx.translate(20, canvas.height / 2);
            ctx.rotate(-Math.PI / 2);
            ctx.fillText('NPV (‚Ç¨)', 0, 0);
            ctx.restore();
        }

        function generateNPVTable() {
            const tableBody = document.getElementById('npvTable');
            if (!tableBody) return;
            
            let html = '';
            let cumulativeNPV = 0;
            
            for (let year = 1; year <= 20; year++) {
                const employment = year <= 2 ? 15 : year <= 5 ? 40 : year <= 10 ? 60 : 65;
                const revenues = employment / 100 * 23960; // From model
                const costs = year <= 3 ? 15000 : year <= 7 ? 12000 : 8000;
                const netCashflow = revenues - costs;
                const discountedValue = netCashflow / Math.pow(1.03, year);
                cumulativeNPV += discountedValue;
                
                const rowClass = year % 2 === 0 ? '' : 'style="background-color: var(--bg-secondary);"';
                html += `
                    <tr ${rowClass}>
                        <td>${year}</td>
                        <td>${employment}%</td>
                        <td>${Math.round(revenues).toLocaleString('fi-FI')}‚Ç¨</td>
                        <td>${costs.toLocaleString('fi-FI')}‚Ç¨</td>
                        <td>${Math.round(netCashflow).toLocaleString('fi-FI')}‚Ç¨</td>
                        <td>${Math.round(discountedValue).toLocaleString('fi-FI')}‚Ç¨</td>
                    </tr>
                `;
            }
            
            // Summary row
            html += `
                <tr style="background-color: var(--accent); color: white; font-weight: bold;">
                    <td colspan="5">YHTEENS√Ñ (NPV):</td>
                    <td>${Math.round(cumulativeNPV).toLocaleString('fi-FI')}‚Ç¨</td>
                </tr>
            `;
            
            tableBody.innerHTML = html;
        }
    </script>
</body>
</html>
